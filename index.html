<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ad Astra: Trade & Explore</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/ui.css">
</head>

<body>
    <div class="cockpit-grid">
        <!-- Auth Screen -->
        <div id="auth-screen" class="screen active">
            <div class="auth-container">
                <h1>Ad Astra</h1>
                <p class="tagline">Journey to the Stars</p>

                <div id="login-form" class="form-section active">
                    <h2>Login</h2>
                    <input type="text" id="login-username" placeholder="Username" autocomplete="username">
                    <input type="password" id="login-password" placeholder="Password" autocomplete="current-password">
                    <button id="login-btn">Enter the Galaxy</button>
                    <p class="form-switch">New pilot? <a href="#" id="show-register">Create Account</a></p>
                </div>

                <div id="register-form" class="form-section">
                    <h2>Create Account</h2>
                    <input type="text" id="register-username" placeholder="Username" autocomplete="username">
                    <input type="password" id="register-password" placeholder="Password" autocomplete="new-password">
                    <input type="password" id="register-confirm" placeholder="Confirm Password"
                        autocomplete="new-password">
                    <button id="register-btn">Launch Career</button>
                    <p class="form-switch">Already registered? <a href="#" id="show-login">Login</a></p>
                </div>

                <div id="character-creation" class="form-section">
                    <h2>Character Creation</h2>
                    <p>Welcome, Commander! Choose your pilot name:</p>
                    <input type="text" id="pilot-name" placeholder="Pilot Name" maxlength="30">
                    <button id="create-character-btn">Begin Your Journey</button>
                </div>

                <div class="admin-section">
                    <a href="#" id="show-admin-login">Admin Access</a>
                </div>
            </div>
        </div>

        <!-- Main Game Screen -->
        <div id="game-screen" class="screen">
            <!-- Top Bar -->
            <div class="top-bar">
                <div class="player-info">
                    <span id="player-name-display">Captain</span> |
                    <span id="credits-display">Credits: 0</span> |
                    <span id="turns-display">Turns: 0</span>
                </div>
                <div class="nav-buttons">
                    <button id="nav-ship">Ship</button>
                    <button id="nav-sector">Sector</button>
                    <button id="nav-galaxy">Galaxy Map</button>
                    <button id="nav-computer">Computer</button>
                    <button id="nav-trade">Trade</button>
                    <button id="nav-stats">Stats</button>
                    <button id="nav-alpha-tester" class="alpha-toggle">üß™ Alpha Test</button>
                    <button id="logout-btn">Logout</button>
                </div>
            </div>

            <!-- Main Game Area -->
            <div class="game-container">
                <!-- Sector View -->
                <div id="sector-view" class="view-panel active">
                    <div class="panel-header">
                        <h2>Current Sector</h2>
                    </div>
                    <div class="panel-content">
                        <div id="sector-info" class="info-section">
                            <p>Loading sector data...</p>
                        </div>
                        <div id="sector-actions" class="action-section">
                            <!-- Dynamic buttons will be added here -->
                        </div>
                    </div>
                </div>

                <!-- Ship View -->
                <div id="ship-view" class="view-panel">
                    <div class="panel-header">
                        <h2>Your Ship</h2>
                    </div>
                    <div class="panel-content">
                        <div id="ship-stats" class="info-section">
                            <!-- Ship stats will be populated here -->
                        </div>
                        <div id="ship-cargo" class="info-section">
                            <h3>Cargo Hold</h3>
                            <div id="cargo-list">
                                <!-- Cargo items will be listed here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Galaxy Map View -->
                <div id="galaxy-view" class="view-panel">
                    <div class="panel-header">
                        <h2>Galaxy Map</h2>
                    </div>
                    <div class="panel-content">
                        <div id="galaxy-map" class="galaxy-container">
                            <!-- Galaxy visualization will go here -->
                        </div>
                    </div>
                </div>

                <!-- Trading View -->
                <div id="trade-view" class="view-panel">
                    <div class="panel-header">
                        <h2>Trading Post</h2>
                        <button id="trade-messageboard-btn" class="back-button" style="display:none;" onclick="window.game.showMessageBoard()">üìã Message Board</button>
                    </div>
                    <div class="panel-content">
                        <div id="trade-interface">
                            <p>Dock at a planet to access trading.</p>
                        </div>
                    </div>
                </div>

                <!-- Combat View -->
                <div id="combat-view" class="view-panel">
                    <div class="panel-header">
                        <h2>Combat!</h2>
                    </div>
                    <div class="panel-content">
                        <div id="combat-interface">
                            <!-- Combat UI will be dynamically generated -->
                        </div>
                    </div>
                </div>

                <!-- Stats View -->
                <div id="stats-view" class="view-panel">
                    <div class="panel-header">
                        <h2>Pilot Statistics</h2>
                    </div>
                    <div class="panel-content">
                        <div id="stats-container" class="info-section">
                            <!-- Stats will be populated here -->
                        </div>
                    </div>
                </div>

                <!-- Computer View -->
                <div id="computer-view" class="view-panel">
                    <div class="panel-header">
                        <h2>Ship's Computer</h2>
                    </div>
                    <div class="panel-content">
                        <!-- Computer Sub-Navigation -->
                        <div class="computer-nav">
                            <button id="comp-nav-navigation" class="comp-tab active">Navigation</button>
                            <button id="comp-nav-intel" class="comp-tab">Intel</button>
                            <button id="comp-nav-bookmarks" class="comp-tab">Bookmarks</button>
                            <button id="comp-nav-fighters" class="comp-tab">Fighters</button>
                            <button id="comp-nav-colonies" class="comp-tab">Colonies</button>
                        </div>

                        <!-- Navigation Panel -->
                        <div id="comp-navigation" class="comp-panel active">
                            <h3>Navigation Computer</h3>
                            <div class="nav-route-planner">
                                <h4>Route Planner</h4>
                                <label>Destination Sector: <input type="number" id="nav-dest-sector" placeholder="Sector ID"></label>
                                <button id="nav-calculate-route">Calculate Route</button>
                                <div id="nav-route-display" class="route-display"></div>
                            </div>
                            <div class="nav-nearest">
                                <h4>Nearest Locations</h4>
                                <button id="nav-find-planet">Find Nearest Planet</button>
                                <button id="nav-find-station">Find Nearest Station</button>
                                <button id="nav-find-military">Find Military Port</button>
                                <button id="nav-find-blackmarket">Find Black Market</button>
                                <div id="nav-nearest-display" class="nearest-display"></div>
                            </div>
                            <div class="nav-trade-finder">
                                <h4>Trade Route Finder</h4>
                                <label>Max Jumps: <input type="number" id="nav-trade-jumps" value="10" min="1" max="30"></label>
                                <button id="nav-find-trade">Find Best Trade Route</button>
                                <div id="nav-trade-display" class="trade-display"></div>
                            </div>
                        </div>

                        <!-- Intel Panel -->
                        <div id="comp-intel" class="comp-panel">
                            <h3>Sector Intelligence</h3>
                            <div class="intel-current">
                                <h4>Current Sector Analysis</h4>
                                <div id="intel-current-display"></div>
                            </div>
                            <div class="intel-galaxy">
                                <h4>Galaxy Statistics</h4>
                                <button id="intel-analyze-galaxy">Analyze Galaxy</button>
                                <div id="intel-galaxy-display"></div>
                            </div>
                            <div class="intel-scan-history">
                                <h4>Recent Scans</h4>
                                <div id="intel-scan-list"></div>
                            </div>
                        </div>

                        <!-- Bookmarks Panel -->
                        <div id="comp-bookmarks" class="comp-panel">
                            <h3>Sector Bookmarks</h3>
                            <div class="bookmark-add">
                                <h4>Add Bookmark</h4>
                                <label>Sector ID: <input type="number" id="bookmark-sector" placeholder="Sector ID"></label>
                                <label>Name: <input type="text" id="bookmark-name" placeholder="Bookmark Name"></label>
                                <label>Notes: <textarea id="bookmark-notes" placeholder="Optional notes" rows="2"></textarea></label>
                                <button id="bookmark-add-btn">Add Bookmark</button>
                            </div>
                            <div class="bookmark-list">
                                <h4>Your Bookmarks</h4>
                                <div id="bookmark-display"></div>
                            </div>
                            <div class="sector-notes">
                                <h4>Sector Notes</h4>
                                <div id="notes-display"></div>
                            </div>
                        </div>

                        <!-- Fighters Panel -->
                        <div id="comp-fighters" class="comp-panel">
                            <h3>Fighter Command</h3>
                            <div class="fighter-deploy">
                                <h4>Deploy Fighters</h4>
                                <p class="info">Cost: 50 credits per fighter | Max 50 per sector</p>
                                <label>Quantity: <input type="number" id="fighter-quantity" value="10" min="1" max="50"></label>
                                <button id="fighter-deploy-btn">Deploy in Current Sector</button>
                            </div>
                            <div class="mine-deploy">
                                <h4>Deploy Mines</h4>
                                <p class="info">Cost: 100 credits per mine | Max 20 per sector</p>
                                <label>Quantity: <input type="number" id="mine-quantity" value="5" min="1" max="20"></label>
                                <button id="mine-deploy-btn">Deploy in Current Sector</button>
                            </div>
                            <div class="fighter-summary">
                                <h4>Your Deployments</h4>
                                <button id="fighter-refresh">Refresh Status</button>
                                <div id="fighter-display"></div>
                            </div>
                        </div>

                        <!-- Colonies Panel -->
                        <div id="comp-colonies" class="comp-panel">
                            <h3>Colony Management</h3>
                            <div class="colony-create">
                                <h4>Genesis Torpedo</h4>
                                <p class="info">Cost: 10,000 credits | Creates a new colony planet</p>
                                <p class="info">Max 5 colonies per player</p>
                                <button id="colony-genesis-btn">Launch Genesis in Current Sector</button>
                            </div>
                            <div class="colony-list">
                                <h4>Your Colonies</h4>
                                <button id="colony-refresh">Refresh Colonies</button>
                                <button id="colony-collect-all">Collect All Income</button>
                                <div id="colony-display"></div>
                            </div>
                            <div class="colony-stats">
                                <h4>Colony Statistics</h4>
                                <div id="colony-stats-display"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Message Board View -->
                <div id="messageboard-view" class="view-panel">
                    <div class="panel-header">
                        <h2 id="messageboard-title">Message Board</h2>
                        <button id="messageboard-back" class="back-button">Back to Sector</button>
                    </div>
                    <div class="panel-content">
                        <!-- Message Board Filter/Control Bar -->
                        <div id="messageboard-controls" class="messageboard-controls">
                            <button id="mb-post-new" class="mb-action-btn">üìù Post Message</button>
                            <select id="mb-filter-type" class="mb-filter">
                                <option value="">All Types</option>
                                <option value="GENERAL">üí¨ General</option>
                                <option value="TRADE">üí∞ Trade</option>
                                <option value="INTEL">üîç Intel</option>
                                <option value="HELP">‚ùì Help</option>
                                <option value="BOUNTY">üíÄ Bounty</option>
                                <option value="CORPORATE">üè¢ Corporate</option>
                                <option value="WARNING">‚ö†Ô∏è Warning</option>
                            </select>
                            <input type="text" id="mb-search" class="mb-search" placeholder="Search messages...">
                            <button id="mb-refresh" class="mb-action-btn">üîÑ Refresh</button>
                        </div>

                        <!-- Message Stats -->
                        <div id="messageboard-stats" class="messageboard-stats">
                            <!-- Stats will be shown here -->
                        </div>

                        <!-- Message List -->
                        <div id="messageboard-list" class="messageboard-list">
                            <p class="loading-text">Loading messages...</p>
                        </div>

                        <!-- Post New Message Form (Hidden by default) -->
                        <div id="messageboard-post-form" class="messageboard-form" style="display: none;">
                            <h3>Post New Message</h3>
                            <select id="mb-post-type" class="form-input">
                                <option value="GENERAL">üí¨ General</option>
                                <option value="TRADE">üí∞ Trade</option>
                                <option value="INTEL">üîç Intel</option>
                                <option value="HELP">‚ùì Help</option>
                                <option value="BOUNTY">üíÄ Bounty</option>
                                <option value="CORPORATE">üè¢ Corporate</option>
                                <option value="WARNING">‚ö†Ô∏è Warning</option>
                            </select>
                            <input type="text" id="mb-post-subject" class="form-input" placeholder="Subject (max 80 chars)" maxlength="80">
                            <textarea id="mb-post-body" class="form-textarea" placeholder="Message body (max 500 chars)" maxlength="500" rows="6"></textarea>
                            <div class="form-actions">
                                <button id="mb-submit-post" class="btn-primary">Post Message</button>
                                <button id="mb-cancel-post" class="btn-secondary">Cancel</button>
                            </div>
                            <p class="char-counter"><span id="mb-subject-count">0</span>/80 | <span id="mb-body-count">0</span>/500</p>
                        </div>

                        <!-- Message Detail View (Hidden by default) -->
                        <div id="messageboard-detail" class="messageboard-detail" style="display: none;">
                            <!-- Message detail content will be dynamically generated -->
                        </div>

                        <!-- Reply Form (Hidden by default) -->
                        <div id="messageboard-reply-form" class="messageboard-form" style="display: none;">
                            <h3>Reply to Message</h3>
                            <textarea id="mb-reply-body" class="form-textarea" placeholder="Your reply (max 500 chars)" maxlength="500" rows="4"></textarea>
                            <div class="form-actions">
                                <button id="mb-submit-reply" class="btn-primary">Post Reply</button>
                                <button id="mb-cancel-reply" class="btn-secondary">Cancel</button>
                            </div>
                            <p class="char-counter"><span id="mb-reply-count">0</span>/500</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Message Log -->
            <div class="message-log">
                <div class="log-header">
                    <h3>Ship's Log</h3>
                    <button id="clear-log">Clear</button>
                </div>
                <div id="message-container">
                    <!-- Messages will appear here -->
                </div>
            </div>

            <!-- Alpha Tester Panel (Overlay) -->
            <div id="alpha-tester-panel" class="alpha-panel">
                <div class="alpha-header">
                    <h2>üß™ Alpha Testing Checklist</h2>
                    <div class="alpha-controls">
                        <span id="alpha-completion">0% Complete</span>
                        <button id="alpha-export" class="alpha-btn">üì• Export Results</button>
                        <button id="alpha-clear" class="alpha-btn">üóëÔ∏è Clear All</button>
                        <button id="alpha-close" class="alpha-btn-close">‚úï</button>
                    </div>
                </div>
                <div class="alpha-content">
                    <div class="alpha-instructions">
                        <p><strong>Welcome, Alpha Tester!</strong> Test each feature and mark as ‚úÖ Pass, ‚ùå Fail, or ‚è≠Ô∏è Skip. Add notes for failures.</p>
                        <p><em>Export results as JSON to share with developers.</em></p>
                    </div>
                    <div id="alpha-test-list" class="alpha-test-list">
                        <!-- Test categories will be populated here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Admin Panel -->
        <div id="admin-screen" class="screen">
            <div class="admin-container">
                <h1>Admin Control Panel</h1>
                <button id="admin-logout">Back to Game</button>

                <div class="admin-section">
                    <h2>Galaxy Management</h2>
                    <label>Galaxy Size: <input type="number" id="admin-galaxy-size" value="100" min="10"
                            max="1000"></label>
                    <button id="admin-generate-galaxy">Generate New Galaxy</button>
                </div>

                <div class="admin-section">
                    <h2>Game Settings</h2>
                    <label>Turns per Day: <input type="number" id="admin-turns-per-day" value="50" min="10"
                            max="500"></label>
                    <button id="admin-save-settings">Save Settings</button>
                </div>
            </div>
        </div>

        <!-- Load JavaScript Modules -->
        <script type="module" src="js/main.js"></script>
    </div>
</body>

</html>